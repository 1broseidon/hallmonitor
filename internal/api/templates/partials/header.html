{{define "header"}}
<header class="top-header" x-data="themeManager()">
    <div class="header-container">
        <!-- Logo -->
        <a href="/dashboard" class="header-logo">
            <svg width="48" height="48" viewBox="0 0 140 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 60L30 60L39 45L48 75L57 30L66 82.5L75 60L93 60L108 60"
                      stroke="url(#headerPulseGradient)"
                      stroke-width="4"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      fill="none"
                      stroke-dasharray="300"
                      stroke-dashoffset="300">
                    <animate attributeName="stroke-dashoffset"
                             from="300"
                             to="0"
                             dur="0.9s"
                             fill="freeze"
                             calcMode="spline"
                             keySplines="0 0 0.2 1"/>
                </path>
                <circle cx="108" cy="60" r="6" fill="#48c78e"/>
                <circle cx="108" cy="60" r="6" fill="#48c78e" opacity="0">
                    <animate attributeName="opacity"
                             values="0;0.4;0"
                             dur="2s"
                             repeatCount="indefinite"
                             calcMode="spline"
                             keySplines="0.4 0 0.6 1; 0.4 0 0.6 1"/>
                    <animate attributeName="r"
                             values="6;18;6"
                             dur="2s"
                             repeatCount="indefinite"
                             calcMode="spline"
                             keySplines="0.4 0 0.6 1; 0.4 0 0.6 1"/>
                </circle>
                <circle cx="108" cy="60" r="6" fill="#48c78e" opacity="0">
                    <animate attributeName="opacity"
                             values="0;0.2;0"
                             dur="2s"
                             begin="0.3s"
                             repeatCount="indefinite"
                             calcMode="spline"
                             keySplines="0.4 0 0.6 1; 0.4 0 0.6 1"/>
                    <animate attributeName="r"
                             values="6;22;6"
                             dur="2s"
                             begin="0.3s"
                             repeatCount="indefinite"
                             calcMode="spline"
                             keySplines="0.4 0 0.6 1; 0.4 0 0.6 1"/>
                </circle>
                <defs>
                    <linearGradient id="headerPulseGradient" x1="12" y1="60" x2="108" y2="60" gradientUnits="userSpaceOnUse">
                        <stop offset="0%" stop-color="#667eea"/>
                        <stop offset="70%" stop-color="#48c78e"/>
                        <stop offset="100%" stop-color="#48c78e"/>
                    </linearGradient>
                </defs>
            </svg>
            <span class="logo-text">Hall Monitor</span>
        </a>

        <!-- Desktop Navigation -->
        <nav class="desktop-nav">
            <a href="/dashboard" class="nav-link {{if eq .CurrentView "dashboard"}}active{{end}}">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
            </a>
            <a href="/dashboard/ambient" class="nav-link {{if eq .CurrentView "ambient"}}active{{end}}">
                <i class="fas fa-expand"></i>
                <span>Ambient</span>
            </a>
            <a href="/config" class="nav-link {{if eq .CurrentView "config"}}active{{end}}">
                <i class="fas fa-cog"></i>
                <span>Config</span>
            </a>
        </nav>

        <!-- Desktop Actions -->
        <div class="desktop-actions">
            <button class="action-btn" @click="toggle()" title="Toggle theme">
                <i class="fas fa-circle-half-stroke"></i>
            </button>
        </div>

        <!-- Mobile Menu Button -->
        <button class="mobile-menu-btn"
                @click="$dispatch('menu-toggle')"
                aria-label="Open menu">
            <span class="hamburger">
                <span class="line"></span>
                <span class="line"></span>
            </span>
        </button>
    </div>
</header>
{{end}}
